---
layout: post
title: >
    #5.1 Preparing our radars: The Goalkeeper Radar
category: project 1
permalink: /projects/project1/:year/:month/:day/:title
date: 09/11/2023
---

Hello! It's been a while but we're back with the next step in the <a id="otherpage-link" href="{{site.baseurl}}/projects/project1">Making Percentile Radars</a> project. <a id="otherpage-link" href="{{site.baseurl}}/projects/project1/2023/08/05/project1-post4">Last time</a> we took our cleaned data, scraped from <a id="text-link" href="https://fbref.com/en/">fbref</a>, and calculated percentile information for each variable in our data frame and now we have per-90 measures for every footballing metric in our data frame, along with corresponding percentiles for each of those metrics. As such, we're ready to begin working on the radar plots!

So when producing a percentile radar, we need to consider which variables we want to display. Whilst we might want to include as much information as possible about each player to give the viewer as comprehensive a view of a player's ability as possible, the radar is instead supposed to serve as a quick-and-easy way to see how each player is performing across a handful of key metrics. Therefore, there is a trade-off between being holistic and enabling interpretation. So in this next step of the project, I'm going to go over the types of radars I want to make and the metrics I want to include in each of them. This part of the project will be split into 4 sub-parts as there is a fair amount to cover when explaining some of these metrics.

## The Goalkeeper Radar

This first type of percentile radar represents metrics relevant to goalkeepers. The goalkeeper has the primary responsibility to prevent the opposition team from scoring goals. They are required to block any attempts on their goal (saves) as well as maintaining control of their penalty area in collaboration with their defenders in order to keep a clean sheet for their team (where the opposition fails to score a goal). In more recent years, the role of a goalkeeper as being the first line of attack, rather than just the last line of defence, has become more prominent and so a good goalkeeper also needs to be adept at distributing the ball to their teammates. 

### Metric 1: Defensive performance

The first category of metrics we'll want to have for goalkeepers simply revolve around their overall defensive performance: a ratio of clean sheets kept to each 90 minutes of playing time played gives us a general view of a goalkeeper's (and their defenders') ability to protect their goal. In addition, we can also look at the number of goals conceded per 90 minutes played to view defensive performance with a bit more resolution. A goalkeeper may not keep lots of clean sheets, but at least they do not concede too many goals each game, still giving their team a chance to win the game.

### Metric 2: Goal-prevention

The next group of metrics I'll refer to as "goal-prevention". This refers to actions the goalkeeper directly takes to prevent the opposition from scoring. The first of these is a goalkeeper's save percentage - the percentage of total shots faced that result in the goalkeeper making a save. A high save percentage reflects a goalkeeper that is capable of preventing shots turning into goals. However, this metric is somewhat limited as save percentage can be inflated by the goalkeeper facing lots of low-quality goal attempts, or alternative deflated if their defensive unit in front of them is particularly poor. Thus, to accompany save percentage as a measure of "goal-prevention" is the slightly long-winded "Post-shot expected goals minus goals against per 90 minutes". Let me quickly explain what this is...

#### Quick segway: what is "Post-shot xG"?

Post-shot expected goals (psxG) is a more sophisticated version of expected goals (xG). With xG, each shot attempt is given a probability weighting based on the historical frequency of goals being score from that position of the pitch - the general pattern is that shots very near the goal-line have the highest xG, and xG lowers the further away shots are taken from the goal. These weightings for each shot are all added together to give us xG - the number of goals we would expect to have seen be score (in that sample shots we added together) if we could re-run all those shots as simulations an infinite amount of times. 

One big problem that xG runs into is not differentiating between different kinds of shots taken from the same area of the pitch. For example, a shot from 15 yards taken with 10 players between the shot location and the goal will have a much different likely of being converted than a 15-yard shot into an empty net. The types of shots a player can take and the scenarios they are taken in vary much more than this example, but all this variation will have implications for the likelihood of the shot being turned into a goal. Post-shot expected goals - psxG - therefore takes some of these potential scenarios into a account and adjust those probability weighting for each shot, giving a much more accurate estimate for the likelihood of a goal being scored. 

Now, to make this relevant for goalkeeping, if we take the post-shot xG of all the shots a goalkeeper faced, we'll get an idea of how many goals, on average, we would expect a given goalkeeper to have conceded. We can then take this psxG and subtract the actual number of goals the goalkeeper conceded from that same sample of shots. This will show whether or not the goalkeeper is over-performing (psxG > goals conceded), or under-performing (psxG < goals conceded). Then, making sure we convert psxG and goal conceded into per-90 metrics, we'll be able to have a powerful metric to compare how well each goalkeeper fairs in preventing goals via saves.

### Metric 3: Aerial ability

A core component of goalkeeping and one frequently scrutinised by fans and pundits alike is that of a goalkeeper's ability to gain control of the ball when it is in the air. This constitutes part of a goalkeeper's ability to control their penalty area - the region with the highest xG by the way - and so is very important in judging both the ability and also the style of the goalkeeper. Not all goalkeepers are incredible at catching the ball and competing with opposition players in their penalty area, but those who are generally benefit well from such an ability (as do their teams).

The first of these metrics is the percentage of crosses faced that are "stopped" by the goalkeeper. A cross is just a lofted pass into the penalty area, usually from the flanks of the pitch, and a good goalkeeper should be able to intercept these passes. They could do this by catching the ball, punching it far away or simply making some sort of contact in order to divert the ball away from opposition players. This metric therefore gives us a sense of how well a goalkeeper fairs at intercepting crosses. That being said, it does not differentiate between which kind of interception the goalkeeper opts for, but given the aforementioned variation in goalkeeper's techniques for aerial defence, it would be slightly beyond this project to debate which style is best.

In a similar vein, the next metric in this category looks at the number of goals conceded from corner kicks, per 90 minutes. Corners are another scenario in football where aerial defence is crucial, so this helps us to see how well the goalkeeper can protect their goal from these set-pieces. However, a goalkeeper is not solely responsible for conceding goals from corners (or goals in general) and so this metric should be contextualised by considering the defensive ability of the entire team - this is a issue for interpreting goalkeeping metrics more broadly too.

### Metric 4: Misc goalkeeping metrics

This last category has no overriding theme, potential reflecting a limitation of this data set. However, they are still important for judging goalkeeping ability. The first of these is pass completion as a percentage of total pass attempts. As I mentioned at the beginning, at the elite level of club football in the modern game, a goalkeeper is the first line of attack, their ability to distribute the ball to teammates to launch attacks is vital. Pass completion tells us the percentage of passes attempted by the goalkeeper that successfully find a teammate. A poor pass completion percentage may indicate a poor distributor of the ball, but may also reflect a goalkeeper who is more willing to take risks in order to find teammates in more dangerous attacking positions - this trade-off of risk and reward isn't captured too well by pass completion but it is still a very useful metric to consider. The last metric for goalkeepers is the percentage of penalties faced that are saved by the goalkeeper. Penalties are a set-piece with a high chance of conversion, so a goalkeeper who is able to fight back and be successful at reading their opponent can help to prevent many goals being conceded over the course of a season. Poor penalty percentage isn't really indicative of a bad goalkeeper, it's just a nice bonus if your goalkeeper is good at saving penalties. 

## Conclusion

So that wraps up an overview of the first percentile radar I will be creating: the goalkeeper radar. If you're not too familiar with football or football metrics, hopefully this helped you understand how we might consider judging the ability of goalkeeper's in a quantifiable way. If you disagree with the use of some of these metrics and have suggestions for better metrics to use, do let me know - especially if you have a background in football analytics (I would love to learn more!).

Thank you for following along, in the next mini-part we'll go over the metrics being used in <a id="otherpage-link" href="{{site.baseurl}}/projects/project1/2023/12/20/project1-post5-2">the defenders radar</a>. See you there!